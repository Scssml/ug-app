(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62a100e8"],{ae5f:function(e,t,a){},be36:function(e,t,a){"use strict";var i=a("ae5f"),r=a.n(i);r.a},fc5d:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[a("v-dialog",{attrs:{value:e.loadingDialog,persistent:"","max-width":"320px"}},[a("v-list",e._l(e.loadingData,function(t,i){return a("v-list-tile",{key:i,attrs:{avatar:"",color:t.error?"red":t.color}},[a("v-list-tile-avatar",[a("v-progress-circular",{attrs:{value:100,size:30,color:t.error?"red":t.color,indeterminate:t.loading}})],1),a("v-list-tile-content",[a("v-list-tile-title",[e._v(e._s(t.title))])],1)],1)}))],1),e.loadingDialog?e._e():[a("v-card",[a("v-card-title",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("v-text-field",{staticClass:"pr-4",attrs:{label:"Дата",value:e.purchase.purchaseDate,"hide-details":"",readonly:""}})],1),a("v-flex",[a("v-text-field",{staticClass:"pr-4",attrs:{label:"Тип изменения",value:e.purchase.type.name,"hide-details":"",readonly:""}})],1),a("v-flex",[a("v-text-field",{staticClass:"pr-4",attrs:{label:"Закупка",value:e.purchase.purchase,"hide-details":"",readonly:""}})],1),a("v-flex",[a("v-text-field",{staticClass:"pr-4",attrs:{label:"Приход",value:e.purchase.arrival,"hide-details":"",readonly:""}})],1),a("v-flex",[a("v-text-field",{staticClass:"pr-4",attrs:{label:"Наценка",value:e.markup+"%","hide-details":"",readonly:""}})],1),a("v-flex",[a("v-text-field",{staticClass:"pr-4",attrs:{label:"Компания","hide-details":"",readonly:""},model:{value:e.purchase.company,callback:function(t){e.$set(e.purchase,"company",t)},expression:"purchase.company"}})],1),a("v-flex",[a("v-text-field",{staticClass:"pr-4",attrs:{label:"Менеджер",value:e.purchase.createdBy.name,"hide-details":"",readonly:""}})],1)],1)],1)],1),a("v-card",[a("v-card-title",[a("v-text-field",{attrs:{"prepend-icon":"search",label:"Поиск","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer")],1),a("v-data-table",{attrs:{headers:e.headersTable,items:e.purchase.purchasedGoods,"hide-actions":"","no-data-text":"Товаров не найдено","no-results-text":"Товаров не найдено",search:e.search,"disable-initial-sort":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.good.name))]),a("td",[e._v(e._s(t.item.stockQuantity))]),a("td",[e._v(e._s(t.item.estimate))]),a("td",[e._v(e._s(t.item.newPrice))])]}}])})],1)]],2)},r=[],l={name:"HistoryView",data:function(){return{loadingData:[{title:"Получение поставок",error:!1,loading:!0,color:"indigo",id:"purchase"}],search:"",headersTable:[{text:"Название",align:"left",value:"good.name"},{text:"Было на складе",align:"left",value:"stockQuantity"},{text:"Пришло",align:"left",value:"estimate"},{text:"Цена",align:"left",value:"newPrice"}],purchase:{}}},computed:{loadingDialog:function(){var e=this.loadingData.filter(function(e){return!e.error&&!e.loading});return e.length===this.loadingData.length?0:1},markup:function(){var e=0;return 0!==this.purchase.arrival&&(e=100-100*this.purchase.purchase/this.purchase.arrival),+e.toFixed(2)}},methods:{getPurchaseList:function(){var e=this,t={type:"purchase",id:this.$route.params.id},a="Закупки получены!",i="Ошибка получения закупок!";this.$store.dispatch("getItem",t).then(function(i){e.purchase=i;var r=e.loadingData.find(function(e){return e.id===t.type});r.title=a,r.loading=!1}).catch(function(){var a=e.loadingData.find(function(e){return e.id===t.type});a.title=i,a.error=!0})}},mounted:function(){this.getPurchaseList()}},s=l,n=(a("be36"),a("2877")),c=Object(n["a"])(s,i,r,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-62a100e8.583f41d6.js.map